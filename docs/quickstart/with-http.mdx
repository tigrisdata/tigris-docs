# Quickstart: HTTP API

The following guide will get you up and running using the HTTP APIs.

:::tip
Quickly add data and easily retrieve or edit that data through simple and
intuitive APIs.

Easily evolve the data model as your application evolves
without worrying about breaking a rigid schema.

:::

First let's review what you need to get going.

## Prerequisites

All you'll need is any computer running macOS or Linux, with
[docker](https://docs.docker.com/get-docker/) installed.

Next, let's get started with Tigris locally.

## Startup Tigris locally via Docker

import StartupLocally from "../includes/_startup_tigris_locally.mdx";

<StartupLocally />

## Creating database and collection

For this quickstart we will create a database named _sampledb_ and then
create a collection _users_ inside it.

Creating a database is as easy as calling an API, and it is ready in an
instant.

```shell
curl -X POST http://localhost:8081/api/v1/databases/sampledb/create
```

Similarly, a collection is instantaneously created through the API. In
Tigris, a collection is an ordered set of records called documents that all
follow a specific schema and whose fields are strongly typed.

```shell
curl http://localhost:8081/api/v1/databases/sampledb/collections/users/createOrUpdate \
      -X POST \
      -H "Content-Type: application/json" \
      -d '{
        "schema": {
          "title": "users",
          "properties": {
            "balance": {
              "type": "number"
            },
            "user_id": {
              "type": "integer",
              "format": "int32",
              "autoGenerate": true
            },
            "name": {
              "type": "string"
            }
          },
          "primary_key": [
            "user_id"
          ]
        }
      }'
```

The schema of the collections created above can be fetched as follows

```shell
curl -X POST http://localhost:8081/api/v1/databases/sampledb/collections/users/describe
```

## Insert some documents

The following example will replace documents with the same `id` if they
already exist, or create new documents if they don't exist with the same `id`.

```shell
curl http://localhost:8081/api/v1/databases/sampledb/collections/users/documents/insert \
      -X POST \
      -H "Content-Type: application/json" \
      -d '{
        "documents": [
          {"name": "Jania McGrory", "balance": 6045.7},
          {"name": "Bunny Instone", "balance": 2948.87}
        ]
      }'
```

## Read a document

### Using the primary key field

Read the document from the collection by using its `id`.

```shell
curl http://localhost:8081/api/v1/databases/sampledb/collections/users/documents/read \
      -X POST \
      -H "Content-Type: application/json" \
      -d '{
        "filter": {"user_id": 1}
      }'
```

### Using any field in the schema

Read the document from the collection by using the field `name`.

```shell
curl http://localhost:8081/api/v1/databases/sampledb/collections/users/documents/read \
      -X POST \
      -H "Content-Type: application/json" \
      -d '{
        "filter": {"name": "Jania McGrory"}
      }'
```

## Update a document

Update one of the fields in a document by using its `id`.

```shell
curl http://localhost:8081/api/v1/databases/sampledb/collections/users/documents/update \
      -X PUT \
      -H "Content-Type: application/json" \
      -d '{
        "fields": {
          "$set": {"balance": 2448.87}
        },
        "filter": {"user_id": 2}
      }'
```

## Delete documents

Use the delete API to remove the documents from the collection
based on the filter.

```shell
curl http://localhost:8081/api/v1/databases/sampledb/collections/users/documents/delete \
      -X DELETE \
      -H "Content-Type: application/json" \
      -d '{
        "filter": {
          "$or": [
            {"user_id": 1},
            {"user_id": 2}
          ]
        }
      }'
```

## Drop database

Finally, drop the database _sampledb_ we have created for this quickstart
with all its collections.

```shell
curl -X DELETE http://localhost:8081/api/v1/databases/sampledb/drop
```
